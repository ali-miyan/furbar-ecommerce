<%- include('../layouts/header.ejs') -%>

<!-- Page Banner Section Start -->
<div class="section page-banner-section" style="background-image: url(asset/images/page-banner.jpg)">
    <div class="container">
        <!-- Page Banner Content End -->
        <div class="page-banner-content">
            <h2 class="title">Login</h2>

            <ul class="breadcrumb">
                <li><a href="/">Home</a></li>
                <li class="active">Login</li>
            </ul>
        </div>
        <!-- Page Banner Content End -->
    </div>
</div>
<!-- Page Banner Section End -->

<!-- Login Section Start -->
<div class="section section-padding">
    <div class="container">

        <div class="row justify-content-center">
            <div class="col-lg-6">
                <!-- Login & Register Start -->
                <% if (typeof message !== 'undefined') { %>
                    <div class="alert alert-danger alert-dismissible fade show" id="errorAlert" style="text-align: center;">
                        <i class="bi-exclamation-octagon-fill"></i>
                        <b class="text-center"><%- message %></b>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
                    <script>
                        // Add a script to hide the alert after 5 seconds
                        $(document).ready(function () {
                            setTimeout(function () {
                                $("#errorAlert").fadeOut(500); // Fade out over 500 milliseconds
                            }, 3000); // 3000 milliseconds = 3 seconds
                        });
                    </script>
                <% } %>
                <div class="login-register-wrapper">
                    <h4 class="title">Login to Your Account</h4>
                    <form action="" method="post" onsubmit="return validateForm()">
                        <div class="single-form">
                            <input type="text" name="email" id="email" placeholder="email" />
                            <p id="email-error" class="error-message"></p>
                        </div>
                        <div class="single-form">
                            <input type="password" name="password" id="password" placeholder="Password" />
                            <p id="password-error" class="error-message"></p>
                        </div>
                        <div class="single-form">
                            <input type="checkbox" id="remember" />
                            <label for="remember"><span></span> Remember me</label>
                        </div>
                        <div class="single-form">
                            <button type="submit" class="btn btn-primary btn-hover-dark">
                                Login
                            </button>
                        </div>
                    </form>
                    <p><a href="#">Lost your password?</a></p>
                    <p>
                        No account?
                        <a href="/signup">Create one here.</a>
                    </p>
                </div>
                <!-- Login & Register End -->
            </div>
        </div>
    </div>
</div>
<!-- Login Section End -->

<script>
    function validateForm() {
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var isValid = true;

        // Simple email validation
        if (!isValidEmail(email)) {
            document.getElementById('email-error').innerText = 'Please enter a valid email address.';
            isValid = false;
        } else {
            document.getElementById('email-error').innerText = '';
        }

        // Simple password validation (you can add more complex rules as needed)
        if (password.length < 6) {
            document.getElementById('password-error').innerText = 'Password must be at least 6 characters long.';
            isValid = false;
        } else {
            document.getElementById('password-error').innerText = '';
        }

        return isValid;
    }

    function isValidEmail(email) {
        // Basic email validation using a regular expression
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }
</script>


<%- include('../layouts/footer.ejs') -%>